(this["webpackJsonpmentor-lead"]=this["webpackJsonpmentor-lead"]||[]).push([[73],{1261:function(e,t,a){"use strict";a.r(t);var c=a(14),o=a(7),n=a(195),r=a(554),l=a(501),i=a(613),s=a(556),d=a(82),b=a(34),j=a.n(b),O=a(1),u=a(1222),m=a(586),p=a(709),h=a(1220),g=a(23),x=a(567),v=a.n(x),f=a(2),y=(Object(n.a)("div")((function(e){var t,a=e.theme;return t={margin:"30px"},Object(o.a)(t,a.breakpoints.down("sm"),{margin:"16px"}),Object(o.a)(t,"& .breadcrumb",Object(o.a)({marginBottom:"30px"},a.breakpoints.down("sm"),{marginBottom:"16px"})),t})),function(e){var t=e.theUpdateLead,a=e.handleDialog,o=Object(O.useState)([]),n=Object(c.a)(o,2),r=(n[0],n[1],{"x-access-token":localStorage.getItem("accessToken"),roleCode:localStorage.getItem("roleCode"),userId:localStorage.getItem("userId")}),l=Object(O.useState)(t.id),i=Object(c.a)(l,2),s=i[0],b=(i[1],Object(O.useState)(t.tranDate)),h=Object(c.a)(b,2),x=h[0],v=h[1],y=Object(O.useState)(t.amount),C=Object(c.a)(y,2),k=C[0],S=C[1],I=Object(O.useState)(t.remark),w=Object(c.a)(I,2),L=w[0],N=w[1];Object(g.f)();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(m.a,{children:[Object(f.jsxs)(p.a,{children:[Object(f.jsx)(u.a.Label,{children:"Transaction Date"}),Object(f.jsx)(u.a.Control,{disabled:!0,type:"text",placeholder:"Enter any Transaction Date",value:new Date(x).toLocaleDateString("en-GB")})]}),Object(f.jsxs)(p.a,{children:[Object(f.jsx)(u.a.Label,{children:"Transaction Amount"}),Object(f.jsx)(u.a.Control,{type:"number",placeholder:"Enter the Amount",value:k})]})]}),Object(f.jsx)(m.a,{children:Object(f.jsxs)(p.a,{children:[Object(f.jsx)(u.a.Label,{children:"Remarks"}),Object(f.jsx)(u.a.Control,{placeholder:"Enter any Remarks",onChange:function(e){return N(e.target.value)},value:L})]})}),Object(f.jsx)("br",{}),Object(f.jsx)(m.a,{children:Object(f.jsx)(p.a,{className:"d-flex justify-content-center",children:Object(f.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){var e={id:s,amount:k,remarks:L,isapproved:0,updatedBy:1};j.a.post(d.a+"/api/updateLeadTransaction",e,{headers:r}),v(""),S(""),N(""),a()},children:"Approved"})})})]})}),C=a(298),k=a(83),S=Object(n.a)("div")((function(e){var t,a=e.theme;return t={margin:"30px"},Object(o.a)(t,a.breakpoints.down("sm"),{margin:"16px"}),Object(o.a)(t,"& .breadcrumb",Object(o.a)({marginBottom:"30px"},a.breakpoints.down("sm"),{marginBottom:"16px"})),t})),I=function(e){var t=e.totalAmount;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(u.a.Label,{children:"Total Approved Amount"}),Object(f.jsx)(u.a.Control,{disabled:!0,type:"number",placeholder:"Auto Calculated Amount",value:t})]})};t.default=function(){var e=new Date,t=e.setDate(e.getDate()+0),a=new Date(t).toISOString().split("T")[0],o=Object(g.e)(),n=Object(O.useState)([]),b=Object(c.a)(n,2),x=b[0],w=b[1],L=localStorage.getItem("accessToken"),N=localStorage.getItem("roleCode"),D=localStorage.getItem("userId"),z={"x-access-token":L,roleCode:N,userId:D},T=Object(O.useState)(o.state.leadId),R=Object(c.a)(T,2),A=R[0],E=(R[1],Object(O.useState)(a)),M=Object(c.a)(E,2),P=M[0],B=M[1],F=Object(O.useState)(),V=Object(c.a)(F,2),U=V[0],K=V[1],W=Object(O.useState)(),H=Object(c.a)(W,2),G=H[0],J=H[1],_=Object(O.useState)(null),q=Object(c.a)(_,2),Q=q[0],X=q[1],Y=Object(O.useState)(!1),Z=Object(c.a)(Y,2),$=Z[0],ee=Z[1],te=function(){ee(!1)},ae=Object(O.useState)(0),ce=Object(c.a)(ae,2),oe=ce[0],ne=ce[1],re=Object(g.f)();Object(O.useEffect)((function(){j.a.post(d.a+"/api/getFilteredLeadData",{leadId:A,userId:0,statusId:0,searchKey:"",locationkey:"",platformId:0,opType:""},{headers:z}).then((function(e){for(var t=0;t<e.data.data.length;t++)w(e.data.data[t].transactionData)}));var e=x.filter((function(e){return 1!=e.isapproved})).reduce((function(e,t){return e+t.amount}),0);ne(e)}),[x]);var le=window.localStorage.getItem("roleName");return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(S,{children:[Object(f.jsx)(C.a,{className:"breadcrumb",children:Object(f.jsx)(k.a,{routeSegments:[{name:"Dashboard",path:"/dashboard/default"},{name:"Manage Leads",path:"/leads/manageLeads"},{name:"Add Lead Transaction "}]})}),Object(f.jsxs)("div",{children:[Object(f.jsxs)(r.a,{container:!0,spacing:2,children:[Object(f.jsxs)(r.a,{item:!0,xs:12,md:2,children:[Object(f.jsx)(u.a.Label,{children:"Lead Name"}),Object(f.jsx)(u.a.Control,{disabled:!0,type:"text",placeholder:"Enter Lead Name",value:o.state.name})]}),Object(f.jsxs)(r.a,{item:!0,xs:12,md:2,children:[Object(f.jsx)(u.a.Label,{children:"Trading Date"}),Object(f.jsx)(u.a.Control,{type:"date",placeholder:"Enter any Remarks",onChange:function(e){return B(e.target.value)},value:P})]}),Object(f.jsxs)(r.a,{item:!0,xs:12,md:3,children:[Object(f.jsx)(u.a.Label,{children:"Company Paid Amount"}),Object(f.jsx)(u.a.Control,{type:"number",placeholder:"Enter the Company Paid Amount",onChange:function(e){return K(e.target.value)},value:U})]}),Object(f.jsxs)(r.a,{item:!0,xs:12,md:3,children:[Object(f.jsx)(u.a.Label,{children:"Remarks"}),Object(f.jsx)(u.a.Control,{placeholder:"Enter any Remarks",onChange:function(e){return J(e.target.value)},value:G})]}),Object(f.jsx)(r.a,{item:!0,xs:12,md:2,children:Object(f.jsx)(l.a,{style:{marginTop:"30px"},id:"demo-customized-button",size:"large",color:"success",variant:"contained",disableElevation:!0,onClick:function(){var e={leadId:A,tranDate:P,amount:U,remarks:G,createdBy:1,isapproved:1,recordStatus:0};j.a.post(d.a+"/api/saveLeadTransaction",e,{headers:z}),K(""),J("")},children:"Save"})})]}),Object(f.jsxs)(r.a,{container:!0,spacing:2,alignItems:"center",children:[Object(f.jsx)(r.a,{item:!0,xs:12,md:2,children:Object(f.jsx)(I,{totalAmount:oe})}),Object(f.jsx)(r.a,{item:!0,xs:12,md:2,children:Object(f.jsx)(l.a,{style:{marginTop:"30px"},id:"demo-customized-button",size:"large",color:"primary",variant:"contained",disableElevation:!0,onClick:function(){var e={leadId:A,remarks:"Updated Amount Added",statusId:o.state.status,actionBy:parseInt(D),isMeeting:1,name:o.state.name,mobileNo:o.state.mobileNo,streetName:o.state.streetName,cityName:o.state.cityName,stateName:o.state.stateName,zipCode:o.state.zipCode,countryName:o.state.countryName,intrestedIn:o.state.intrestedIn,sourceId:o.state.sourceId,assignId:o.state.assignId,label:o.state.label,alternateMobile:o.state.alternateMobile,clientName:o.state.clientName,expectedAmount:oe,emailId:o.state.emailId};console.log({UpdateUser:e}),j.a.post(d.a+"/api/updateLeadData",e,{headers:z}),re("/leads/manageLeads")},children:"Save to Lead"})})]}),Object(f.jsx)("br",{}),Object(f.jsxs)(m.a,{className:"mt-2",children:[Object(f.jsx)(p.a,{children:Object(f.jsx)("h5",{className:"text-center",children:"Transaction Detail's"})}),Object(f.jsx)("br",{}),Object(f.jsxs)("table",{className:"table table-striped table-bordered mt-4",style:{borderRadius:"2px"},children:[Object(f.jsx)("thead",{style:{color:"MidnightBlue"},className:"text-center",children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Sr No."}),Object(f.jsx)("th",{children:"Trading Date"}),Object(f.jsx)("th",{children:"Paid Amount"}),Object(f.jsx)("th",{children:"Remarks"}),Object(f.jsx)("th",{children:"Approved"})]})}),x.map((function(e,t){return Object(f.jsx)("tbody",{className:"text-center",children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.id}),Object(f.jsx)("td",{children:new Date(e.tranDate).toLocaleDateString("en-GB")}),Object(f.jsx)("td",{children:e.amount}),Object(f.jsx)("td",{children:e.remark}),Object(f.jsx)("td",{children:"Employee"==le?Object(f.jsx)(f.Fragment,{children:1==e.isapproved?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(i.a,{label:"Waiting",color:"warning"})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(i.a,{label:"Approved",color:"success"})})}):Object(f.jsx)(f.Fragment,{children:1==e.isapproved?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(i.a,{label:"Waiting",color:"warning",onClick:function(){return function(e){X(e),ee(!0)}(e)}})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(i.a,{label:"Approved",color:"success"})})})})]},t)})}))]})]})]})]}),Object(f.jsxs)(h.a,{show:$,onHide:te,backdrop:"static",keyboard:!1,size:"md",centered:!0,"aria-labelledby":"contained-modal-title-vcenter",children:[Object(f.jsxs)(h.a.Header,{children:[Object(f.jsx)(h.a.Title,{children:"Approve Transaction Record"}),Object(f.jsx)(s.a,{type:"button",onClick:te,children:Object(f.jsx)(v.a,{})})]}),Object(f.jsx)(h.a.Body,{children:Object(f.jsx)(y,{theUpdateLead:Q,handleDialog:te})})]})]})}},567:function(e,t,a){"use strict";var c=a(302);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(a(303)),n=a(2),r=(0,o.default)((0,n.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.default=r},613:function(e,t,a){"use strict";var c=a(7),o=a(6),n=a(4),r=a(1),l=a(8),i=a(101),s=a(482),d=a(63),b=a(2),j=Object(d.a)(Object(b.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel"),O=a(26),u=a(13),m=a(552),p=a(15),h=a(5),g=a(62),x=a(71);function v(e){return Object(g.a)("MuiChip",e)}var f=Object(x.a)("MuiChip",["root","sizeSmall","sizeMedium","colorPrimary","colorSecondary","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","focusVisible"]),y=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"],C=Object(h.a)("div",{name:"MuiChip",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState,o=a.color,n=a.clickable,r=a.onDelete,l=a.size,i=a.variant;return[Object(c.a)({},"& .".concat(f.avatar),t.avatar),Object(c.a)({},"& .".concat(f.avatar),t["avatar".concat(Object(u.a)(l))]),Object(c.a)({},"& .".concat(f.avatar),t["avatarColor".concat(Object(u.a)(o))]),Object(c.a)({},"& .".concat(f.icon),t.icon),Object(c.a)({},"& .".concat(f.icon),t["icon".concat(Object(u.a)(l))]),Object(c.a)({},"& .".concat(f.icon),t["iconColor".concat(Object(u.a)(o))]),Object(c.a)({},"& .".concat(f.deleteIcon),t.deleteIcon),Object(c.a)({},"& .".concat(f.deleteIcon),t["deleteIcon".concat(Object(u.a)(l))]),Object(c.a)({},"& .".concat(f.deleteIcon),t["deleteIconColor".concat(Object(u.a)(o))]),Object(c.a)({},"& .".concat(f.deleteIcon),t["deleteIconOutlinedColor".concat(Object(u.a)(o))]),t.root,t["size".concat(Object(u.a)(l))],t["color".concat(Object(u.a)(o))],n&&t.clickable,n&&"default"!==o&&t["clickableColor".concat(Object(u.a)(o),")")],r&&t.deletable,r&&"default"!==o&&t["deletableColor".concat(Object(u.a)(o))],t[i],"outlined"===i&&t["outlined".concat(Object(u.a)(o))]]}})((function(e){var t,a=e.theme,o=e.ownerState,r=Object(s.a)(a.palette.text.primary,.26);return Object(n.a)((t={maxWidth:"100%",fontFamily:a.typography.fontFamily,fontSize:a.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:a.palette.text.primary,backgroundColor:a.palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:a.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box"},Object(c.a)(t,"&.".concat(f.disabled),{opacity:a.palette.action.disabledOpacity,pointerEvents:"none"}),Object(c.a)(t,"& .".concat(f.avatar),{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===a.palette.mode?a.palette.grey[700]:a.palette.grey[300],fontSize:a.typography.pxToRem(12)}),Object(c.a)(t,"& .".concat(f.avatarColorPrimary),{color:a.palette.primary.contrastText,backgroundColor:a.palette.primary.dark}),Object(c.a)(t,"& .".concat(f.avatarColorSecondary),{color:a.palette.secondary.contrastText,backgroundColor:a.palette.secondary.dark}),Object(c.a)(t,"& .".concat(f.avatarSmall),{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:a.typography.pxToRem(10)}),Object(c.a)(t,"& .".concat(f.icon),Object(n.a)({color:"light"===a.palette.mode?a.palette.grey[700]:a.palette.grey[300],marginLeft:5,marginRight:-6},"small"===o.size&&{fontSize:18,marginLeft:4,marginRight:-4},"default"!==o.color&&{color:"inherit"})),Object(c.a)(t,"& .".concat(f.deleteIcon),Object(n.a)({WebkitTapHighlightColor:"transparent",color:r,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:Object(s.a)(r,.4)}},"small"===o.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==o.color&&{color:Object(s.a)(a.palette[o.color].contrastText,.7),"&:hover, &:active":{color:a.palette[o.color].contrastText}})),t),"small"===o.size&&{height:24},"default"!==o.color&&{backgroundColor:a.palette[o.color].main,color:a.palette[o.color].contrastText},o.onDelete&&Object(c.a)({},"&.".concat(f.focusVisible),{backgroundColor:Object(s.a)(a.palette.action.selected,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)}),o.onDelete&&"default"!==o.color&&Object(c.a)({},"&.".concat(f.focusVisible),{backgroundColor:a.palette[o.color].dark}))}),(function(e){var t,a=e.theme,o=e.ownerState;return Object(n.a)({},o.clickable&&(t={userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:Object(s.a)(a.palette.action.selected,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity)}},Object(c.a)(t,"&.".concat(f.focusVisible),{backgroundColor:Object(s.a)(a.palette.action.selected,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)}),Object(c.a)(t,"&:active",{boxShadow:a.shadows[1]}),t),o.clickable&&"default"!==o.color&&Object(c.a)({},"&:hover, &.".concat(f.focusVisible),{backgroundColor:a.palette[o.color].dark}))}),(function(e){var t,a,o=e.theme,r=e.ownerState;return Object(n.a)({},"outlined"===r.variant&&(t={backgroundColor:"transparent",border:"1px solid ".concat("light"===o.palette.mode?o.palette.grey[400]:o.palette.grey[700])},Object(c.a)(t,"&.".concat(f.clickable,":hover"),{backgroundColor:o.palette.action.hover}),Object(c.a)(t,"&.".concat(f.focusVisible),{backgroundColor:o.palette.action.focus}),Object(c.a)(t,"& .".concat(f.avatar),{marginLeft:4}),Object(c.a)(t,"& .".concat(f.avatarSmall),{marginLeft:2}),Object(c.a)(t,"& .".concat(f.icon),{marginLeft:4}),Object(c.a)(t,"& .".concat(f.iconSmall),{marginLeft:2}),Object(c.a)(t,"& .".concat(f.deleteIcon),{marginRight:5}),Object(c.a)(t,"& .".concat(f.deleteIconSmall),{marginRight:3}),t),"outlined"===r.variant&&"default"!==r.color&&(a={color:o.palette[r.color].main,border:"1px solid ".concat(Object(s.a)(o.palette[r.color].main,.7))},Object(c.a)(a,"&.".concat(f.clickable,":hover"),{backgroundColor:Object(s.a)(o.palette[r.color].main,o.palette.action.hoverOpacity)}),Object(c.a)(a,"&.".concat(f.focusVisible),{backgroundColor:Object(s.a)(o.palette[r.color].main,o.palette.action.focusOpacity)}),Object(c.a)(a,"& .".concat(f.deleteIcon),{color:Object(s.a)(o.palette[r.color].main,.7),"&:hover, &:active":{color:o.palette[r.color].main}}),a))})),k=Object(h.a)("span",{name:"MuiChip",slot:"Label",overridesResolver:function(e,t){var a=e.ownerState.size;return[t.label,t["label".concat(Object(u.a)(a))]]}})((function(e){var t=e.ownerState;return Object(n.a)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"small"===t.size&&{paddingLeft:8,paddingRight:8})}));function S(e){return"Backspace"===e.key||"Delete"===e.key}var I=r.forwardRef((function(e,t){var a=Object(p.a)({props:e,name:"MuiChip"}),c=a.avatar,s=a.className,d=a.clickable,h=a.color,g=void 0===h?"default":h,x=a.component,f=a.deleteIcon,I=a.disabled,w=void 0!==I&&I,L=a.icon,N=a.label,D=a.onClick,z=a.onDelete,T=a.onKeyDown,R=a.onKeyUp,A=a.size,E=void 0===A?"medium":A,M=a.variant,P=void 0===M?"filled":M,B=Object(o.a)(a,y),F=r.useRef(null),V=Object(O.a)(F,t),U=function(e){e.stopPropagation(),z&&z(e)},K=!(!1===d||!D)||d,W="small"===E,H=K||z?m.a:x||"div",G=Object(n.a)({},a,{component:H,disabled:w,size:E,color:g,onDelete:!!z,clickable:K,variant:P}),J=function(e){var t=e.classes,a=e.disabled,c=e.size,o=e.color,n=e.onDelete,r=e.clickable,l=e.variant,s={root:["root",l,a&&"disabled","size".concat(Object(u.a)(c)),"color".concat(Object(u.a)(o)),r&&"clickable",r&&"clickableColor".concat(Object(u.a)(o)),n&&"deletable",n&&"deletableColor".concat(Object(u.a)(o)),"".concat(l).concat(Object(u.a)(o))],label:["label","label".concat(Object(u.a)(c))],avatar:["avatar","avatar".concat(Object(u.a)(c)),"avatarColor".concat(Object(u.a)(o))],icon:["icon","icon".concat(Object(u.a)(c)),"iconColor".concat(Object(u.a)(o))],deleteIcon:["deleteIcon","deleteIcon".concat(Object(u.a)(c)),"deleteIconColor".concat(Object(u.a)(o)),"deleteIconOutlinedColor".concat(Object(u.a)(o))]};return Object(i.a)(s,v,t)}(G),_=H===m.a?Object(n.a)({component:x||"div",focusVisibleClassName:J.focusVisible},z&&{disableRipple:!0}):{},q=null;if(z){var Q=Object(l.a)("default"!==g&&("outlined"===P?J["deleteIconOutlinedColor".concat(Object(u.a)(g))]:J["deleteIconColor".concat(Object(u.a)(g))]),W&&J.deleteIconSmall);q=f&&r.isValidElement(f)?r.cloneElement(f,{className:Object(l.a)(f.props.className,J.deleteIcon,Q),onClick:U}):Object(b.jsx)(j,{className:Object(l.a)(J.deleteIcon,Q),onClick:U})}var X=null;c&&r.isValidElement(c)&&(X=r.cloneElement(c,{className:Object(l.a)(J.avatar,c.props.className)}));var Y=null;return L&&r.isValidElement(L)&&(Y=r.cloneElement(L,{className:Object(l.a)(J.icon,L.props.className)})),Object(b.jsxs)(C,Object(n.a)({as:H,className:Object(l.a)(J.root,s),disabled:!(!K||!w)||void 0,onClick:D,onKeyDown:function(e){e.currentTarget===e.target&&S(e)&&e.preventDefault(),T&&T(e)},onKeyUp:function(e){e.currentTarget===e.target&&(z&&S(e)?z(e):"Escape"===e.key&&F.current&&F.current.blur()),R&&R(e)},ref:V,ownerState:G},_,B,{children:[X||Y,Object(b.jsx)(k,{className:Object(l.a)(J.label),ownerState:G,children:N}),q]}))}));t.a=I}}]);
//# sourceMappingURL=73.9bf2e8ed.chunk.js.map