(this["webpackJsonpmentor-lead"]=this["webpackJsonpmentor-lead"]||[]).push([[77],{1182:function(e,t,a){"use strict";a.r(t);var c=a(7),n=a(9),l=a(11),s=a(14),r=a(179),j=a(82),i=a(587),o=a(695),d=a(1210),b=a(568),u=a(595),O=a(689),h=a(606),x=a(291),m=a(494),g=a(1229),p=a(516),f=a(294),C=a(576),v=a(577),N=a(578),y=a(579),S=a(488),I=a(580),T=a(575),k=a(1),L=a(23),D=a(34),A=a.n(D),E=a(81),w=a(2),B=Object(r.a)(T.a)((function(){return{whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:20,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:30}}}}})),P=Object(r.a)("div")((function(e){var t,a=e.theme;return t={margin:"30px"},Object(c.a)(t,a.breakpoints.down("sm"),{margin:"16px"}),Object(c.a)(t,"& .breadcrumb",Object(c.a)({marginBottom:"30px"},a.breakpoints.down("sm"),{marginBottom:"16px"})),t})),Q=Object(r.a)("div")((function(){return{margin:"0px 0px 0px 430px"}}));t.default=function(){var e=Object(k.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(k.useState)(!1),T=Object(s.a)(r,2),D=T[0],q=T[1],R=Object(k.useState)(""),F=Object(s.a)(R,2),G=(F[0],F[1]),z=Object(k.useState)(""),W=Object(s.a)(z,2),J=W[0],H=W[1],M=Object(k.useState)(""),U=Object(s.a)(M,2),K=U[0],V=U[1],X=Object(k.useState)(""),Y=Object(s.a)(X,2),Z=Y[0],$=Y[1],_=Object(k.useState)(""),ee=Object(s.a)(_,2),te=ee[0],ae=ee[1],ce=Object(k.useState)(""),ne=Object(s.a)(ce,2),le=ne[0],se=ne[1],re=Object(k.useState)(""),je=Object(s.a)(re,2),ie=je[0],oe=je[1],de=Object(k.useState)(""),be=Object(s.a)(de,2),ue=be[0],Oe=be[1],he=Object(k.useState)(""),xe=Object(s.a)(he,2),me=xe[0],ge=xe[1],pe=Object(k.useState)(""),fe=Object(s.a)(pe,2),Ce=fe[0],ve=fe[1],Ne=Object(k.useState)(18),ye=Object(s.a)(Ne,2),Se=ye[0],Ie=ye[1],Te=Object(k.useState)(0),ke=Object(s.a)(Te,2),Le=ke[0],De=ke[1],Ae=Object(k.useState)(""),Ee=Object(s.a)(Ae,2),we=Ee[0],Be=(Ee[1],Object(k.useState)("")),Pe=Object(s.a)(Be,2),Qe=Pe[0],qe=Pe[1],Re=Object(k.useState)(""),Fe=Object(s.a)(Re,2),Ge=Fe[0],ze=Fe[1],We=Object(k.useState)([]),Je=Object(s.a)(We,2),He=Je[0],Me=Je[1],Ue=Object(k.useState)([]),Ke=Object(s.a)(Ue,2),Ve=Ke[0],Xe=Ke[1],Ye=Object(k.useState)([{id:Object(h.a)(6),name:"",qty:0,price:0}]),Ze=Object(s.a)(Ye,2),$e=Ze[0],_e=Ze[1],et=Object(k.useState)([{instalmentNumber:Object(h.a)(1),instalmentAmount:0,instalmentDate:"",createdBy:""}]),tt=Object(s.a)(et,2),at=tt[0],ct=(tt[1],{"x-access-token":localStorage.getItem("accessToken"),roleCode:localStorage.getItem("roleCode"),userId:localStorage.getItem("userId")});Object(k.useEffect)((function(){A.a.post(E.a+"/api/getFilteredLeadData",{leadId:0,userId:0,statusId:0},{headers:ct}).then((function(e){for(var t=0;t<e.data.data.length;t++)Me((function(a){return[].concat(Object(l.a)(a),[e.data.data[t].name])}))})),A.a.post(E.a+"/api/getCatalogue",{catId:0},{headers:ct}).then((function(e){for(var t=0;t<e.data.data.length;t++)Xe((function(a){return[].concat(Object(l.a)(a),[e.data.data[t].gsName])}))}))}),[]);var nt=Object(L.f)(),lt={leadId:He.leadId,quotationNumber:"Q00001",quotationDate:J,comapnyAddress:K,companyEmail:Z,companyContact:te,billTo:le,clientAddress:ie,clientEmail:ue,clientContact:me,gstNo:Ce,gsCatalogueId:Ve.id,amount:rt,gsQuantity:we,gst:Se,discount:Le,grandTotal:jt,remarks:Qe,bankDetails:Ge,instalments:at,isDraft:1,createdBy:1},st=function(e){var t={id:e.target.id,name:e.target.name,value:e.target.value},a=$e.map((function(e){for(var a in e)a===t.name&&e.id===t.id&&(e[a]=t.value);return e}));_e(a)},rt=$e.reduce((function(e,t){return t.name.trim().length>0?e+Number(t.price*Math.floor(t.qty)):e}),0),jt=rt-Le*rt/100+Se*rt/100,it=function(e){_e((function(t){return t.filter((function(t){return t.id!==e}))}))};return Object(w.jsxs)(P,{children:[Object(w.jsx)(x.a,{className:"breadcrumb",children:Object(w.jsx)(j.a,{routeSegments:[{name:"Quotation",path:"/quotations/addQuotation"},{name:"Add Quotation Page"}]})}),Object(w.jsxs)(j.k,{title:"Request Quotation",children:[Object(w.jsx)("h6",{style:{color:"green"},children:"Company Detail's"}),Object(w.jsxs)(i.a,{children:[Object(w.jsxs)(o.a,{children:[Object(w.jsx)(d.a.Label,{children:"Lead"}),Object(w.jsx)(m.a,{children:Object(w.jsx)(g.a,{style:{width:450},freeSolo:!0,autoComplete:!0,autoHighlight:!0,options:He,renderInput:function(e){return Object(w.jsx)(p.a,Object(n.a)(Object(n.a)({},e),{},{onChange:function(e){return Me(e.target.value)},variant:"outlined",label:"Select the Lead",size:"small"}))}})})]}),Object(w.jsxs)(o.a,{children:[Object(w.jsx)(d.a.Label,{children:"Quotation Date"}),Object(w.jsx)(d.a.Control,{type:"date",onChange:function(e){return H(e.target.value)},value:J})]})]}),Object(w.jsx)(i.a,{className:"mt-3",children:Object(w.jsx)(o.a,{children:Object(w.jsxs)(d.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(w.jsx)(d.a.Label,{children:"Address"}),Object(w.jsx)(d.a.Control,{as:"textarea",rows:3,onChange:function(e){return V(e.target.value)},value:K,placeholder:"Comapny Address"})]})})}),Object(w.jsxs)(i.a,{children:[Object(w.jsxs)(o.a,{children:[Object(w.jsx)(d.a.Label,{children:"Email"}),Object(w.jsxs)(b.a,{className:"mb-3",children:[Object(w.jsx)(b.a.Text,{id:"basic-addon1",children:Object(w.jsx)(f.a,{children:"email"})}),Object(w.jsx)(d.a.Control,{onChange:function(e){return $(e.target.value)},value:Z,placeholder:"Company Email"})]})]}),Object(w.jsxs)(o.a,{children:[Object(w.jsx)(d.a.Label,{children:"Contact"}),Object(w.jsxs)(b.a,{className:"mb-1",children:[Object(w.jsx)(b.a.Text,{id:"basic-addon1",children:Object(w.jsx)(f.a,{children:"phone"})}),Object(w.jsx)(d.a.Control,{onChange:function(e){return ae(e.target.value)},value:te,placeholder:"Company Contact"})]})]})]}),Object(w.jsx)("br",{}),Object(w.jsx)("h6",{style:{color:"green"},children:"Client Detail's"}),Object(w.jsxs)(i.a,{children:[Object(w.jsxs)(o.a,{children:[Object(w.jsx)(d.a.Label,{children:"Bill To / Customer Name"}),Object(w.jsxs)(b.a,{className:"mb-3",children:[Object(w.jsx)(b.a.Text,{id:"basic-addon1",children:Object(w.jsx)(f.a,{children:"person"})}),Object(w.jsx)(d.a.Control,{onChange:function(e){return se(e.target.value)},value:le,placeholder:"Billing Person Name"})]})]}),Object(w.jsxs)(o.a,{children:[Object(w.jsx)(d.a.Label,{children:"GST NO"}),Object(w.jsxs)(b.a,{className:"mb-3",children:[Object(w.jsx)(b.a.Text,{id:"basic-addon1",children:"GST"}),Object(w.jsx)(d.a.Control,{onChange:function(e){return ve(e.target.value)},value:Ce,placeholder:"Enter the GST Number"})]})]})]}),Object(w.jsxs)(i.a,{children:[Object(w.jsxs)(o.a,{children:[Object(w.jsx)(d.a.Label,{children:"Client Email"}),Object(w.jsxs)(b.a,{className:"mb-3",children:[Object(w.jsx)(b.a.Text,{id:"basic-addon1",children:Object(w.jsx)(f.a,{children:"email"})}),Object(w.jsx)(d.a.Control,{onChange:function(e){return Oe(e.target.value)},value:ue,placeholder:"demo@gmail.com"})]})]}),Object(w.jsxs)(o.a,{children:[Object(w.jsx)(d.a.Label,{children:"Client Contact"}),Object(w.jsxs)(b.a,{className:"mb-3",children:[Object(w.jsx)(b.a.Text,{id:"basic-addon1",children:Object(w.jsx)(f.a,{children:"phone"})}),Object(w.jsx)(d.a.Control,{onChange:function(e){return ge(e.target.value)},value:me,placeholder:"demo@gmail.com"})]})]})]}),Object(w.jsx)(i.a,{className:"mt-2",children:Object(w.jsx)(o.a,{children:Object(w.jsxs)(d.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1",children:[Object(w.jsx)(d.a.Label,{children:"Client Address"}),Object(w.jsx)(d.a.Control,{as:"textarea",rows:3,onChange:function(e){return oe(e.target.value)},value:ie,placeholder:"Customer  Address"})]})})}),Object(w.jsx)("br",{}),Object(w.jsxs)(x.a,{className:"text-center mt-2",width:"100%",overflow:"auto",children:[Object(w.jsxs)(i.a,{children:[Object(w.jsx)(o.a,{}),Object(w.jsx)(o.a,{className:"col-sm-9",children:Object(w.jsx)("h4",{style:{color:"green"},children:"Product Quotation List"})}),Object(w.jsx)(o.a,{children:Object(w.jsx)(o.a,{className:"col-sm-1",children:Object(w.jsx)("button",{type:"button",onClick:function(){var e=Object(h.a)(6);_e((function(t){return[].concat(Object(l.a)(t),[{id:e,name:"",qty:1,price:"1.00"}])}))},className:"btn btn-success",children:"Add Items"})})})]}),Object(w.jsxs)(B,{children:[Object(w.jsx)(C.a,{children:Object(w.jsxs)(v.a,{children:[Object(w.jsx)(N.a,{align:"center",children:"Product Name"}),Object(w.jsx)(N.a,{align:"center",children:"Quantity"}),Object(w.jsx)(N.a,{align:"center",children:"Unit Price"}),Object(w.jsx)(N.a,{align:"center",children:"Action"})]})}),Object(w.jsx)(y.a,{children:$e.map((function(e){return Object(w.jsx)(O.a,{align:"justify",id:e.id,name:e.name,qty:e.qty,price:e.price,onDeleteItem:it,onEdtiItem:st},e.id)}))})]})]}),Object(w.jsxs)(i.a,{children:[Object(w.jsxs)(o.a,{children:[Object(w.jsx)(d.a.Label,{children:"Tax Rate "}),Object(w.jsxs)(b.a,{className:"mb-3",children:[Object(w.jsx)(d.a.Control,{value:Se,onChange:function(e){return Ie(e.target.value)},placeholder:"Enter the Tax Rate"})," ",Object(w.jsx)(b.a.Text,{children:"%"})]})]}),Object(w.jsxs)(o.a,{children:[Object(w.jsx)(d.a.Label,{children:"Discount rate:"}),Object(w.jsxs)(b.a,{className:"mb-3",children:[Object(w.jsx)(d.a.Control,{placeholder:"Discount Rate",value:Le,onChange:function(e){return De(e.target.value)}}),Object(w.jsx)(b.a.Text,{children:"%"})]})]})]}),Object(w.jsxs)(i.a,{children:[Object(w.jsxs)(o.a,{children:[Object(w.jsx)(d.a.Label,{children:"Amount"}),Object(w.jsxs)(b.a,{className:"mb-3",children:[Object(w.jsx)(b.a.Text,{id:"basic-addon1",style:{color:"green"},children:Object(w.jsx)("b",{children:" \u20b9"})}),Object(w.jsx)(d.a.Control,{disabled:!0,placeholder:"Sub Total Amount",value:rt})]})]}),Object(w.jsxs)(o.a,{children:[Object(w.jsx)(d.a.Label,{children:"Grand Total"}),Object(w.jsxs)(b.a,{className:"mb-3",children:[Object(w.jsx)(b.a.Text,{id:"basic-addon1",style:{color:"green"},children:Object(w.jsx)("b",{children:" \u20b9"})}),Object(w.jsx)(d.a.Control,{disabled:!0,placeholder:"Total Amount",value:jt})]})]})]}),Object(w.jsxs)(i.a,{children:[Object(w.jsxs)(o.a,{children:[Object(w.jsx)(d.a.Label,{children:"Note or Remark"}),Object(w.jsx)(d.a.Control,{placeholder:"Write a Remark",onChange:function(e){return qe(e.target.value)},value:Qe})]}),Object(w.jsxs)(o.a,{className:"mt-2",children:[Object(w.jsx)(d.a.Label,{children:"Bank Details"}),Object(w.jsx)(d.a.Check,{type:"switch",onChange:function(){return q(!D)},checked:D,id:"custom-switch",label:"If you have Payment Detail's,Please Check the Box"})]})]}),Object(w.jsx)(i.a,{children:Object(w.jsx)(o.a,{children:D?Object(w.jsxs)(i.a,{children:[Object(w.jsx)(o.a,{children:Object(w.jsxs)(m.a,{fullWidth:!0,children:[Object(w.jsx)("label",{children:"Choose Payment Option"}),Object(w.jsxs)(S.a,{value:a,label:"Age",onChange:function(e){c(e.target.value)},children:[Object(w.jsx)(I.a,{value:"",children:"Choose Payment Option"}),Object(w.jsx)(I.a,{value:"netBanking",children:"Net Banking"}),Object(w.jsx)(I.a,{value:"bank",children:"Bank Transfer"}),Object(w.jsx)(I.a,{value:"gPay",children:"G-Pay"}),Object(w.jsx)(I.a,{value:"amazonPay",children:"Amazon Pay"})]})]})}),Object(w.jsxs)(o.a,{children:[Object(w.jsx)(d.a.Label,{children:"Transaction Refrence Number"}),Object(w.jsx)(d.a.Control,{fullWidth:!0,placeholder:"Enter the Refrence Number of Transaction",onChange:function(e){return ze(e.target.value)},value:Ge})]})]}):Object(w.jsx)("div",{})})}),Object(w.jsx)(i.a,{children:Object(w.jsx)(o.a,{children:a?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("br",{}),Object(w.jsx)("h6",{children:"Please Fill Detail's Only For Bank Transfer"}),Object(w.jsxs)(i.a,{children:[Object(w.jsxs)(o.a,{children:[Object(w.jsx)(d.a.Label,{children:"Bank Name"}),Object(w.jsx)(d.a.Control,{placeholder:"Enter the Bank Name"})]}),Object(w.jsxs)(o.a,{children:[Object(w.jsx)(d.a.Label,{children:"IFSC CODE"}),Object(w.jsx)(d.a.Control,{placeholder:"Enter the IFSC CODE"})]})]})]}):Object(w.jsx)("div",{})})})]}),Object(w.jsx)(Q,{className:"mt-2",children:Object(w.jsx)(i.a,{children:Object(w.jsxs)(o.a,{children:[Object(w.jsx)(u.a,{variant:"contained",onClick:function(){nt("/quotations/manageQuotation")},children:"Cancel"}),"\xa0",Object(w.jsx)(u.a,{variant:"success",onClick:function(e){e.preventDefault(),console.log({addQuotation:lt}),A.a.post(E.a+"/api/saveQuotation",lt),G(""),H(""),V(""),alert("Catalogue Successfully Created")},children:"Add"})]})})})]})}},689:function(e,t,a){"use strict";a(1);var c=a(2),n=function(e){var t=e.onEditItem,a=e.cellData;return Object(c.jsx)("input",{className:a.className,type:a.type,placeholder:a.placeholder,min:a.min,max:a.max,step:a.step,name:a.name,id:a.id,value:a.value,onChange:t,required:!0})},l=a(548),s=a(294);t.a=function(e){e.id;var t=e.instalmentNumber,a=e.instalmentDate,r=e.instalmentAmount,j=e.onDeleteItem,i=e.onEdtiItem;return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"w-full",children:Object(c.jsx)(n,{onEditItem:function(e){return i(e)},cellData:{placeholder:"Installment No.",type:"text",name:"instalmentNumber",id:t,value:t}})}),Object(c.jsx)("td",{className:"w-full",children:Object(c.jsx)(n,{onEditItem:function(e){return i(e)},cellData:{type:"date",name:"instalmentDate",id:t,value:a}})}),Object(c.jsx)("td",{className:"w-full",children:Object(c.jsx)(n,{onEditItem:function(e){return i(e)},cellData:{placeholder:"Installment Amount",type:"text",name:"instalmentAmount",id:t,value:r}})}),Object(c.jsx)("td",{className:"flex items-center justify-center",children:Object(c.jsx)(l.a,{onClick:function(){j(t)},className:"ml-5",children:Object(c.jsx)(s.a,{color:"warning",children:"delete"})})})]})}}}]);
//# sourceMappingURL=77.3c29ce5a.chunk.js.map