(this["webpackJsonpmentor-lead"]=this["webpackJsonpmentor-lead"]||[]).push([[90],{1232:function(e,t,a){"use strict";a.r(t);var c=a(14),n=a(7),l=a(179),r=a(80),s=a(1),i=a(34),j=a.n(i),b=a(567),o=a(642),d=a(1193),O=a(565),h=a(1190),u=a(23),x=a(41),m=a(2),g=function(e){var t=e.theClientMail,a=e.handleDialog,n={"x-access-token":localStorage.getItem("accessToken"),roleCode:localStorage.getItem("roleCode"),userId:localStorage.getItem("userId")},l=Object(s.useState)(t.invoiceNumber),r=Object(c.a)(l,1)[0],i=Object(s.useState)(t.clientName),O=Object(c.a)(i,1)[0],h=Object(s.useState)(t.clientEmail),u=Object(c.a)(h,1)[0],x=Object(s.useState)(t.productName),g=Object(c.a)(x,1)[0],p=Object(s.useState)(t.instalmentAmount),v=Object(c.a)(p,1)[0],f=Object(s.useState)(t.instalmentDate),S=Object(c.a)(f,1)[0];return Object(m.jsxs)("div",{children:[Object(m.jsxs)(b.a,{children:[Object(m.jsxs)(o.a,{children:[Object(m.jsx)(d.a.Label,{children:"Invoice Number"}),Object(m.jsx)(d.a.Control,{disabled:!0,value:r})]}),Object(m.jsxs)(o.a,{children:[Object(m.jsx)(d.a.Label,{children:"Client Email"}),Object(m.jsx)(d.a.Control,{disabled:!0,value:u})]})]}),Object(m.jsxs)(b.a,{children:[Object(m.jsxs)(o.a,{children:[Object(m.jsx)(d.a.Label,{children:"Client Name"}),Object(m.jsx)(d.a.Control,{disabled:!0,value:O})]}),Object(m.jsxs)(o.a,{children:[Object(m.jsx)(d.a.Label,{children:"Installment Amount"}),Object(m.jsx)(d.a.Control,{disabled:!0,value:v})]})]}),Object(m.jsxs)(b.a,{children:[Object(m.jsxs)(o.a,{children:[Object(m.jsx)(d.a.Label,{children:"Product Name"}),Object(m.jsx)(d.a.Control,{disabled:!0,value:g})]}),Object(m.jsxs)(o.a,{children:[Object(m.jsx)(d.a.Label,{children:"Installment Date"}),Object(m.jsx)(d.a.Control,{disabled:!0,value:new Date(S).toLocaleDateString("en-GB")})]})]}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{type:"submit",className:"btn btn-success",style:{margin:"5px"},onClick:function(){!function(){var e={invoiceNo:r,itemName:"Stock Option",date:S,amount:v,emailId:u,emailTemplateId:3};j.a.post("http://43.204.38.243:3001/api/sendReminderMail",e,{headers:n})}(),a()},children:"Send"})})]})},p=a(591),v=a.n(p),f=a(1025),S=a.n(f),C=a(570),y=a(288),D=a(571),I=a(572),N=a(573),k=a(574),L=a(650),w=a(547),M=a(291),R=Object(l.a)("div")((function(e){var t,a=e.theme;return t={margin:"30px"},Object(n.a)(t,a.breakpoints.down("sm"),{margin:"16px"}),Object(n.a)(t,"& .breadcrumb",Object(n.a)({marginBottom:"30px"},a.breakpoints.down("sm"),{marginBottom:"16px"})),t})),A=Object(l.a)(C.a)((function(){return{whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0}}}}}));t.default=function(){var e=Object(s.useState)(null),t=Object(c.a)(e,2),a=t[0],n=t[1],l=Object(s.useState)(!1),i=Object(c.a)(l,2),p=i[0],f=i[1],C=function(){return f(!1)},Y=(Object(u.f)(),Object(s.useState)([])),B=Object(c.a)(Y,2),E=B[0],P=B[1],T={"x-access-token":localStorage.getItem("accessToken"),roleCode:localStorage.getItem("roleCode"),userId:localStorage.getItem("userId")},F=S()().startOf("month").format("YYYY-MM-DD"),G=S()().endOf("month").format("YYYY-MM-DD"),H=Object(s.useState)(F),J=Object(c.a)(H,2),z=J[0],q=J[1],K=Object(s.useState)(G),Q=Object(c.a)(K,2),U=Q[0],V=Q[1];return Object(s.useEffect)((function(){j.a.post("http://43.204.38.243:3001/api/getPendingInstalments",{fromDate:z,toDate:U,userId:1},{headers:T}).then((function(e){P(e.data.data)}))}),[E]),Object(m.jsx)(R,{children:Object(m.jsxs)(y.a,{children:[Object(m.jsx)(y.a,{className:"breadcrumb",children:Object(m.jsx)(r.a,{routeSegments:[{name:"Recovery List",path:"/myDeal/recovery/manageRecovery"},{name:"Installment Recovery"}]})}),Object(m.jsx)(y.a,{children:Object(m.jsx)(b.a,{children:Object(m.jsxs)(o.a,{md:"6",children:[Object(m.jsx)(d.a.Label,{htmlFor:"basic-url",children:"Apply Date Range (By Default Current Month Start Date and End Date is selected) "}),Object(m.jsxs)(O.a,{className:"mb-3",children:[Object(m.jsx)(d.a.Control,{value:z,onChange:function(e){return q(e.target.value)},type:"date"}),Object(m.jsx)(d.a.Control,{value:U,onChange:function(e){return V(e.target.value)},type:"date"})]})]})})}),Object(m.jsxs)(y.a,{className:"text-center",width:"100%",overflow:"auto",children:[Object(m.jsx)("h4",{children:"Recovery List"}),Object(m.jsxs)(A,{className:"table table-striped table-bordered",style:{borderRadius:"1px"},children:[Object(m.jsx)(D.a,{style:{borderLeft:"1px solid red",borderRight:"1px solid red"},className:"text-center",children:Object(m.jsxs)(I.a,{children:[Object(m.jsx)(N.a,{align:"center",children:"Invoice No"}),Object(m.jsx)(N.a,{align:"center",children:"Client Name"}),Object(m.jsx)(N.a,{align:"center",children:"EMI Date"}),Object(m.jsx)(N.a,{align:"center",children:"EMI Amount"}),Object(m.jsx)(N.a,{align:"center",children:"Fine Amount"}),Object(m.jsx)(N.a,{align:"center",children:"Status"}),Object(m.jsx)(N.a,{align:"center",children:"Action"})]})}),Object(m.jsx)(k.a,{children:E.map((function(e,t){return Object(m.jsxs)(I.a,{children:[Object(m.jsx)(N.a,{align:"center",children:e.invoiceNumber}),Object(m.jsx)(N.a,{align:"center",children:e.clientName}),Object(m.jsx)(N.a,{align:"center",children:new Date(e.instalmentDate).toLocaleDateString("en-GB")}),Object(m.jsxs)(N.a,{align:"center",children:["\u20b9 ",e.instalmentAmount]}),Object(m.jsxs)(N.a,{align:"center",children:["\u20b9 ",null==e.fineAmount?0:e.fineAmount]}),Object(m.jsx)(N.a,{align:"center",children:1==e.hasPaid?Object(m.jsx)(L.a,{color:"success",label:"Paid"}):Object(m.jsx)(L.a,{color:"warning",label:"Not Paid"})}),Object(m.jsxs)(N.a,{align:"center",children:[Object(m.jsx)(w.a,{onClick:function(){return function(e){n(e),f(!0)}(e)},children:Object(m.jsx)(M.a,{color:"red",children:"mail"})}),Object(m.jsx)(x.b,{to:"/myDeal/recovery/editRecoveryInstallment",state:e,children:Object(m.jsx)(w.a,{children:Object(m.jsx)(M.a,{color:"success",children:"edit"})})})]})]},t)}))})]})]}),Object(m.jsxs)(h.a,{show:p,onHide:C,backdrop:"static",keyboard:!1,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(m.jsxs)(h.a.Header,{children:[Object(m.jsx)(h.a.Title,{children:"Send Reminder Mail"}),Object(m.jsx)(w.a,{type:"button",onClick:C,children:Object(m.jsx)(v.a,{})})]}),Object(m.jsx)(h.a.Body,{children:Object(m.jsx)(g,{theClientMail:a,handleDialog:C})}),Object(m.jsx)(h.a.Footer,{children:Object(m.jsx)("button",{type:"submit",className:"btn btn-error",style:{marginTop:"5px"},onClick:C,children:"Cancel"})})]})]})})}}}]);
//# sourceMappingURL=90.2bc1ece6.chunk.js.map