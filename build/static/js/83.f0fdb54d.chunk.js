(this["webpackJsonpmentor-lead"]=this["webpackJsonpmentor-lead"]||[]).push([[83],{1248:function(e,t,a){"use strict";a.r(t);var c=a(37),n=a(49),r=a(14),s=a(7),l=a(184),j=a(83),i=a(1),b=a(34),d=a.n(b),o=a(586),O=a(709),h=a(570),u=a(1222),x=a(1220),g=a(567),m=a.n(g),v=a(23),p=a(689),f=a.n(p),y=a(1052),C=a.n(y),L=a(571),S=a(297),D=a(572),N=a(573),k=a(574),E=a(575),R=a(613),w=a(556),I=a(82),q=a(503),A=a(497),F=a(582),M=a(501),B=a(2),_=function(e){var t=e.theEditData,a=e.handleClose,c=localStorage.getItem("branchName"),n=Object(i.useState)(t.empName),s=Object(r.a)(n,2),l=s[0],j=s[1],b=Object(i.useState)(t.leaveReason),h=Object(r.a)(b,2),x=h[0],g=h[1],m=Object(i.useState)(t.no_of_days),v=Object(r.a)(m,2),p=v[0],f=v[1],y=Object(i.useState)(t.startDate),C=Object(r.a)(y,2),L=C[0],S=(C[1],Object(i.useState)(t.endDate)),D=Object(r.a)(S,2),N=D[0],k=(D[1],Object(i.useState)(t.status)),E=Object(r.a)(k,2),R=E[0],w=E[1],_=Object(i.useState)(t.message),z=Object(r.a)(_,2),H=z[0],P=z[1];return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)("form",{children:[Object(B.jsxs)(o.a,{children:[Object(B.jsxs)(O.a,{md:"6",children:[Object(B.jsx)(u.a.Label,{children:"Employee Name"}),Object(B.jsx)(u.a.Control,{disabled:!0,required:!0,value:l,onChange:function(e){return j(e.target.value)},placeholder:"Enter the Employee Name"})]}),Object(B.jsxs)(O.a,{md:"6",children:[Object(B.jsx)(u.a.Label,{children:"No of Day's"}),Object(B.jsx)(u.a.Control,{disabled:!0,placeholder:"Enter the No of Days",value:p,onChange:function(e){return f(e.target.value)}})]})]}),Object(B.jsx)(o.a,{children:Object(B.jsxs)(O.a,{md:"12",children:[Object(B.jsx)(u.a.Label,{children:"Leave Reason"}),Object(B.jsx)(u.a.Control,{type:"text",required:!0,disabled:!0,placeholder:"Please Enter the Leave Reason",value:x,onChange:function(e){return g(e.target.value)}})]})}),Object(B.jsxs)(o.a,{children:[Object(B.jsxs)(O.a,{md:"6",children:[Object(B.jsx)(u.a.Label,{children:"Start Date"}),Object(B.jsx)(u.a.Control,{disabled:!0,required:!0,value:new Date(L).toLocaleDateString("en-GB")})]}),Object(B.jsxs)(O.a,{md:"6",children:[Object(B.jsx)(u.a.Label,{children:"End Date"}),Object(B.jsx)(u.a.Control,{disabled:!0,required:!0,value:new Date(N).toLocaleDateString("en-GB")})]})]}),Object(B.jsx)(o.a,{children:Object(B.jsx)(O.a,{children:Object(B.jsxs)(q.a,{sx:{m:0,width:"100%"},size:"small",className:"mt-1",children:[Object(B.jsx)(u.a.Label,{children:"Status"}),Object(B.jsxs)(A.a,{required:!0,value:R,onChange:function(e){return w(e.target.value)},label:".",children:[Object(B.jsx)(F.a,{value:0,children:"Approved"}),Object(B.jsx)(F.a,{value:1,children:"Waiting"}),Object(B.jsx)(F.a,{value:2,children:"Cancel"}),Object(B.jsx)(F.a,{value:3,children:"Reject"})]})]})})}),Object(B.jsx)(o.a,{children:Object(B.jsxs)(O.a,{md:"12",children:[Object(B.jsx)(u.a.Label,{children:"Message"}),Object(B.jsx)(u.a.Control,{type:"text",required:!0,placeholder:"Message (If Any)",value:H,onChange:function(e){return P(e.target.value)}})]})})]}),Object(B.jsx)("br",{}),Object(B.jsxs)("div",{style:{textAlign:"right"},children:[Object(B.jsx)(M.a,{onClick:function(){a()},variant:"contained",children:"Cancel"}),"\xa0",Object(B.jsx)(M.a,{variant:"contained",color:"success",onClick:function(){var e={empName:l,leaveReason:x,no_of_days:p,startDate:L,endDate:N,department:"Advisory",organization:c,status:R,message:H};d.a.put(I.b+"/updateLeave/"+t._id,e),a()},children:"Update"})]})]})},z=function(e){var t=e.handleClose,a=localStorage.getItem("name"),c=Object(i.useState)(a),n=Object(r.a)(c,2),s=n[0],l=n[1],j=Object(i.useState)(""),b=Object(r.a)(j,2),h=b[0],x=b[1],g=Object(i.useState)(),m=Object(r.a)(g,2),v=m[0],p=m[1],f=Object(i.useState)(""),y=Object(r.a)(f,2),C=y[0],L=y[1],S=Object(i.useState)(""),D=Object(r.a)(S,2),N=D[0],k=D[1],E=localStorage.getItem("branchName");return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)("form",{children:[Object(B.jsxs)(o.a,{children:[Object(B.jsxs)(O.a,{md:"6",children:[Object(B.jsx)(u.a.Label,{children:"Employee Name"}),Object(B.jsx)(u.a.Control,{disabled:!0,required:!0,value:s,onChange:function(e){return l(e.target.value)},placeholder:"Enter the Employee Name"})]}),Object(B.jsxs)(O.a,{md:"6",children:[Object(B.jsx)(u.a.Label,{children:"No of Day's"}),Object(B.jsx)(u.a.Control,{type:"number",placeholder:"Enter the No of Days",value:v,onChange:function(e){return p(e.target.value)}})]})]}),Object(B.jsx)(o.a,{children:Object(B.jsxs)(O.a,{md:"12",children:[Object(B.jsx)(u.a.Label,{children:"Leave Reason"}),Object(B.jsx)(u.a.Control,{type:"text",required:!0,placeholder:"Please Enter the Leave Reason",value:h,onChange:function(e){return x(e.target.value)}})]})}),Object(B.jsxs)(o.a,{children:[Object(B.jsxs)(O.a,{md:"6",children:[Object(B.jsx)(u.a.Label,{children:"Start Date"}),Object(B.jsx)(u.a.Control,{type:"date",value:C,onChange:function(e){return L(e.target.value)}})]}),Object(B.jsxs)(O.a,{md:"6",children:[Object(B.jsx)(u.a.Label,{children:"End Date"}),Object(B.jsx)(u.a.Control,{type:"date",value:N,onChange:function(e){return k(e.target.value)}})]})]})]}),Object(B.jsx)("br",{}),Object(B.jsxs)("div",{style:{textAlign:"right"},children:[Object(B.jsx)(M.a,{onClick:function(){t()},variant:"contained",children:"Cancel"}),"\xa0",Object(B.jsx)(M.a,{variant:"contained",color:"success",onClick:function(){var e={empName:s,leaveReason:h,no_of_days:v,startDate:C,endDate:N,department:"Advisory",status:1,organization:E};d.a.post(I.b+"/saveLeave",e),t()},children:"Submit"})]})]})},H=Object(l.a)("div")((function(e){var t,a=e.theme;return t={margin:"30px"},Object(s.a)(t,a.breakpoints.down("sm"),{margin:"16px"}),Object(s.a)(t,"& .breadcrumb",Object(s.a)({marginBottom:"30px"},a.breakpoints.down("sm"),{marginBottom:"16px"})),t})),P=Object(l.a)(L.a)((function(){return{whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0}}}}}));t.default=function(){var e=Object(i.useState)(null),t=Object(r.a)(e,2),a=t[0],s=t[1],l=Object(i.useState)([]),b=Object(r.a)(l,2),g=b[0],p=b[1],y=Object(i.useState)(!1),L=Object(r.a)(y,2),q=L[0],A=L[1],F=function(){return A(!1)},M=(Object(v.f)(),localStorage.getItem("name")),T=Object(i.useState)(!1),G=Object(r.a)(T,2),J=G[0],U=G[1],W=function(){U(!0)},V=function(){return U(!1)},K=(localStorage.getItem("accessToken"),localStorage.getItem("roleCode")),Q=(localStorage.getItem("userId"),localStorage.getItem("branchName")),X=function(){var e=Object(n.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("EMP"!=K){e.next=5;break}return e.next=3,d.a.get(I.b+"/getLeave?empName="+M).then((function(e){p(e.data)}));case 3:case 8:e.next=12;break;case 5:if("BM"!=K){e.next=10;break}return e.next=8,d.a.get(I.b+"/getLeave?organization="+Q).then((function(e){p(e.data)}));case 10:return e.next=12,d.a.get(I.b+"/getLeave").then((function(e){p(e.data)}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){X()}),[g]),Object(B.jsx)(H,{children:Object(B.jsxs)(S.a,{children:[Object(B.jsx)(S.a,{className:"breadcrumb",children:Object(B.jsx)(j.a,{routeSegments:[{name:"Manage Leave Request",path:"/manageLeave"},{name:"View Leave Details"}]})}),Object(B.jsx)(S.a,{children:Object(B.jsx)(o.a,{children:Object(B.jsx)(O.a,{children:Object(B.jsxs)(h.a,{className:"mb-3",children:["EMP"==K||"TL"==K?Object(B.jsxs)(B.Fragment,{children:[" ",Object(B.jsx)("button",{type:"submit",className:"btn btn-success",onClick:W,children:"ADD"}),"\xa0"]}):Object(B.jsx)(B.Fragment,{}),Object(B.jsx)(u.a.Control,{placeholder:"Search By Employee Name","aria-label":"Recipient's username","aria-describedby":"basic-addon2"})]})})})}),Object(B.jsxs)(S.a,{className:"text-center",width:"100%",overflow:"auto",children:[Object(B.jsx)("h4",{children:"Manage Leave Request"}),Object(B.jsxs)(P,{className:"table table-striped table-bordered",style:{borderRadius:"1px"},children:[Object(B.jsx)(D.a,{style:{borderLeft:"1px solid red",borderRight:"1px solid red"},className:"text-center",children:Object(B.jsxs)(N.a,{children:[Object(B.jsx)(k.a,{align:"center",children:"Leave ID"}),Object(B.jsx)(k.a,{align:"center",children:"Employee"}),Object(B.jsx)(k.a,{align:"center",children:"Leave Reason"}),Object(B.jsx)(k.a,{align:"center",children:"No of Days"}),Object(B.jsx)(k.a,{align:"center",children:"Leave Start Date"}),Object(B.jsx)(k.a,{align:"center",children:"Leave End Date"}),Object(B.jsx)(k.a,{align:"center",children:"Status"}),"ADMIN"==K||"BM"==K?Object(B.jsx)(k.a,{align:"center",children:"Action"}):Object(B.jsx)(B.Fragment,{})]})}),Object(B.jsx)(E.a,{children:g.map((function(e,t){return Object(B.jsxs)(N.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(B.jsxs)(k.a,{component:"th",scope:"row",align:"center",children:["Leave-",t+101]}),Object(B.jsx)(k.a,{align:"center",children:e.empName}),Object(B.jsx)(k.a,{align:"center",children:e.leaveReason}),Object(B.jsx)(k.a,{align:"center",children:e.no_of_days}),Object(B.jsx)(k.a,{align:"center",children:e.startDate}),Object(B.jsx)(k.a,{align:"center",children:e.endDate}),Object(B.jsx)(k.a,{align:"center",children:0==e.status?Object(B.jsxs)(B.Fragment,{children:[" ",Object(B.jsx)(R.a,{label:"Approved",color:"success"})]}):1==e.status?Object(B.jsxs)(B.Fragment,{children:[" ",Object(B.jsx)(R.a,{label:"Waiting",color:"warning"})]}):2==e.status?Object(B.jsxs)(B.Fragment,{children:[" ",Object(B.jsx)(R.a,{label:"Cancel"})," "]}):Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(R.a,{label:"Reject",color:"error"})})}),"ADMIN"==K||"BM"==K?Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)(k.a,{align:"center",children:[Object(B.jsx)(w.a,{children:Object(B.jsx)(f.a,{onClick:function(){return s(e),void A(!0)}})}),Object(B.jsx)(w.a,{children:Object(B.jsx)(C.a,{onClick:function(){return function(e){d.a.delete(I.b+"/deleteLeave/"+e._id)}(e)}})})]})}):Object(B.jsx)(B.Fragment,{})]},t)}))})]})]}),Object(B.jsxs)(x.a,{show:q,onHide:F,backdrop:"static",keyboard:!1,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(B.jsxs)(x.a.Header,{children:[Object(B.jsx)(x.a.Title,{children:"Update Leave Request"}),Object(B.jsx)(w.a,{type:"button",onClick:F,children:Object(B.jsx)(m.a,{})})]}),Object(B.jsx)(x.a.Body,{children:Object(B.jsx)(_,{theEditData:a,handleClose:F})})]}),Object(B.jsxs)(x.a,{show:J,onHide:V,backdrop:"static",keyboard:!1,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(B.jsxs)(x.a.Header,{children:[Object(B.jsx)(x.a.Title,{children:"Raise Leave Request"}),Object(B.jsx)(w.a,{type:"button",onClick:V,children:Object(B.jsx)(m.a,{})})]}),Object(B.jsx)(x.a.Body,{children:Object(B.jsx)(z,{handleClose:V})})]})]})})}}}]);
//# sourceMappingURL=83.f0fdb54d.chunk.js.map