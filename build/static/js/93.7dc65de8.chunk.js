(this["webpackJsonpmentor-lead"]=this["webpackJsonpmentor-lead"]||[]).push([[93],{1253:function(e,t,a){"use strict";a.r(t);var c=a(14),n=a(7),l=a(179),r=a(82),s=a(1),i=a(34),j=a.n(i),d=a(588),b=a(693),o=a(1210),O=a(568),h=a(1207),u=a(23),x=a(41),m=a(81),g=a(2),p=function(e){var t=e.theClientMail,a=e.handleDialog,n={"x-access-token":localStorage.getItem("accessToken"),roleCode:localStorage.getItem("roleCode"),userId:localStorage.getItem("userId")},l=Object(s.useState)(t.invoiceNumber),r=Object(c.a)(l,1)[0],i=Object(s.useState)(t.clientName),O=Object(c.a)(i,1)[0],h=Object(s.useState)(t.clientEmail),u=Object(c.a)(h,1)[0],x=Object(s.useState)(t.productName),p=Object(c.a)(x,1)[0],f=Object(s.useState)(t.instalmentAmount),v=Object(c.a)(f,1)[0],S=Object(s.useState)(t.instalmentDate),C=Object(c.a)(S,1)[0];return Object(g.jsxs)("div",{children:[Object(g.jsxs)(d.a,{children:[Object(g.jsxs)(b.a,{children:[Object(g.jsx)(o.a.Label,{children:"Invoice Number"}),Object(g.jsx)(o.a.Control,{disabled:!0,value:r})]}),Object(g.jsxs)(b.a,{children:[Object(g.jsx)(o.a.Label,{children:"Client Email"}),Object(g.jsx)(o.a.Control,{disabled:!0,value:u})]})]}),Object(g.jsxs)(d.a,{children:[Object(g.jsxs)(b.a,{children:[Object(g.jsx)(o.a.Label,{children:"Client Name"}),Object(g.jsx)(o.a.Control,{disabled:!0,value:O})]}),Object(g.jsxs)(b.a,{children:[Object(g.jsx)(o.a.Label,{children:"Installment Amount"}),Object(g.jsx)(o.a.Control,{disabled:!0,value:v})]})]}),Object(g.jsxs)(d.a,{children:[Object(g.jsxs)(b.a,{children:[Object(g.jsx)(o.a.Label,{children:"Product Name"}),Object(g.jsx)(o.a.Control,{disabled:!0,value:p})]}),Object(g.jsxs)(b.a,{children:[Object(g.jsx)(o.a.Label,{children:"Installment Date"}),Object(g.jsx)(o.a.Control,{disabled:!0,value:new Date(C).toLocaleDateString("en-GB")})]})]}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{type:"submit",className:"btn btn-success",style:{margin:"5px"},onClick:function(){!function(){var e={invoiceNo:r,itemName:"Stock Option",date:C,amount:v,emailId:u,emailTemplateId:3};j.a.post(m.a+"/api/sendReminderMail",e,{headers:n})}(),a()},children:"Send"})})]})},f=a(565),v=a.n(f),S=a(1040),C=a.n(S),y=a(571),D=a(291),I=a(572),N=a(573),k=a(574),L=a(575),w=a(651),M=a(548),R=a(294),A=Object(l.a)("div")((function(e){var t,a=e.theme;return t={margin:"30px"},Object(n.a)(t,a.breakpoints.down("sm"),{margin:"16px"}),Object(n.a)(t,"& .breadcrumb",Object(n.a)({marginBottom:"30px"},a.breakpoints.down("sm"),{marginBottom:"16px"})),t})),Y=Object(l.a)(y.a)((function(){return{whiteSpace:"pre","& thead":{"& tr":{"& th":{paddingLeft:0,paddingRight:0}}},"& tbody":{"& tr":{"& td":{paddingLeft:0}}}}}));t.default=function(){var e=Object(s.useState)(null),t=Object(c.a)(e,2),a=t[0],n=t[1],l=Object(s.useState)(!1),i=Object(c.a)(l,2),f=i[0],S=i[1],y=function(){return S(!1)},B=(Object(u.f)(),Object(s.useState)([])),E=Object(c.a)(B,2),P=E[0],T=E[1],F={"x-access-token":localStorage.getItem("accessToken"),roleCode:localStorage.getItem("roleCode"),userId:localStorage.getItem("userId")},G=C()().startOf("month").format("YYYY-MM-DD"),H=C()().endOf("month").format("YYYY-MM-DD"),J=Object(s.useState)(G),z=Object(c.a)(J,2),q=z[0],K=z[1],Q=Object(s.useState)(H),U=Object(c.a)(Q,2),V=U[0],W=U[1];return Object(s.useEffect)((function(){j.a.post(m.a+"/api/getPendingInstalments",{fromDate:q,toDate:V,userId:1},{headers:F}).then((function(e){T(e.data.data)}))}),[P]),Object(g.jsx)(A,{children:Object(g.jsxs)(D.a,{children:[Object(g.jsx)(D.a,{className:"breadcrumb",children:Object(g.jsx)(r.a,{routeSegments:[{name:"Dashboard",path:"/dashboard/default"},{name:"Recovery List",path:"/myDeal/recovery/manageRecovery"},{name:"Installment Recovery"}]})}),Object(g.jsx)(D.a,{children:Object(g.jsx)(d.a,{children:Object(g.jsxs)(b.a,{md:"6",children:[Object(g.jsx)(o.a.Label,{htmlFor:"basic-url",children:"Apply Date Range (By Default Current Month Start Date and End Date is selected) "}),Object(g.jsxs)(O.a,{className:"mb-3",children:[Object(g.jsx)(o.a.Control,{value:q,onChange:function(e){return K(e.target.value)},type:"date"}),Object(g.jsx)(o.a.Control,{value:V,onChange:function(e){return W(e.target.value)},type:"date"})]})]})})}),Object(g.jsxs)(D.a,{className:"text-center",width:"100%",overflow:"auto",children:[Object(g.jsx)("h4",{children:"Recovery List"}),Object(g.jsxs)(Y,{className:"table table-striped table-bordered",style:{borderRadius:"1px"},children:[Object(g.jsx)(I.a,{style:{borderLeft:"1px solid red",borderRight:"1px solid red"},className:"text-center",children:Object(g.jsxs)(N.a,{children:[Object(g.jsx)(k.a,{align:"center",children:"Invoice No"}),Object(g.jsx)(k.a,{align:"center",children:"Client Name"}),Object(g.jsx)(k.a,{align:"center",children:"EMI Date"}),Object(g.jsx)(k.a,{align:"center",children:"EMI Amount"}),Object(g.jsx)(k.a,{align:"center",children:"Fine Amount"}),Object(g.jsx)(k.a,{align:"center",children:"Status"}),Object(g.jsx)(k.a,{align:"center",children:"Action"})]})}),Object(g.jsx)(L.a,{children:P.map((function(e,t){return Object(g.jsxs)(N.a,{children:[Object(g.jsx)(k.a,{align:"center",children:e.invoiceNumber}),Object(g.jsx)(k.a,{align:"center",children:e.clientName}),Object(g.jsx)(k.a,{align:"center",children:new Date(e.instalmentDate).toLocaleDateString("en-GB")}),Object(g.jsxs)(k.a,{align:"center",children:["\u20b9 ",e.instalmentAmount]}),Object(g.jsxs)(k.a,{align:"center",children:["\u20b9 ",null==e.fineAmount?0:e.fineAmount]}),Object(g.jsx)(k.a,{align:"center",children:1==e.hasPaid?Object(g.jsx)(w.a,{color:"success",label:"Paid"}):Object(g.jsx)(w.a,{color:"warning",label:"Not Paid"})}),Object(g.jsxs)(k.a,{align:"center",children:[Object(g.jsx)(M.a,{onClick:function(){return function(e){n(e),S(!0)}(e)},children:Object(g.jsx)(R.a,{color:"red",children:"mail"})}),Object(g.jsx)(x.b,{to:"/myDeal/recovery/editRecoveryInstallment",state:e,children:Object(g.jsx)(M.a,{children:Object(g.jsx)(R.a,{color:"success",children:"edit"})})})]})]},t)}))})]})]}),Object(g.jsxs)(h.a,{show:f,onHide:y,backdrop:"static",keyboard:!1,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(g.jsxs)(h.a.Header,{children:[Object(g.jsx)(h.a.Title,{children:"Send Reminder Mail"}),Object(g.jsx)(M.a,{type:"button",onClick:y,children:Object(g.jsx)(v.a,{})})]}),Object(g.jsx)(h.a.Body,{children:Object(g.jsx)(p,{theClientMail:a,handleDialog:y})}),Object(g.jsx)(h.a.Footer,{children:Object(g.jsx)("button",{type:"submit",className:"btn btn-error",style:{marginTop:"5px"},onClick:y,children:"Cancel"})})]})]})})}}}]);
//# sourceMappingURL=93.7dc65de8.chunk.js.map